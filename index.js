"use strict";const canvas=document.querySelector("canvas"),ctx=canvas.getContext("2d",{lowLatency:!0,alpha:!1}),scale=4,intensity=1e3;let cooling=.4,play=!0,imageData,matrix,w,h;const loop=()=>{for(let e=0;e<matrix.length;e++){let t=e+w-Math.random()+1.5>>0,a=matrix[t]+matrix[t+1]+matrix[t-w]+matrix[t-w+1],o=e<matrix.length-w?a*cooling*Math.random()+.5>>0:1e3*Math.random();matrix[e]=o,imageData.data[4*e]=4*o,imageData.data[4*e+1]=o,imageData.data[4*e+2]=.25*o+.5>>0}ctx.putImageData(imageData,0,0),play&&requestAnimationFrame(loop)},resize=()=>{w=canvas.width=window.innerWidth/4>>0,h=canvas.height=window.innerHeight/4>>0,ctx.fillRect(0,0,w,h),imageData=ctx.getImageData(0,0,w,h),matrix=new Uint16Array(w*h)},move=e=>{let t=e;"touchmove"===e.type&&(e.preventDefault(),t=e.targetTouches[0]);let a=Math.round((t.clientX-canvas.offsetLeft)/4);matrix[Math.round((t.clientY-canvas.offsetTop)/4)*w+a]=8192*Math.random()},toggle=()=>{(play=!play)&&loop()};canvas.addEventListener("mousemove",move,!1),canvas.addEventListener("touchmove",move,!1),window.onresize=resize,resize(),loop(),document.querySelector(".btn").addEventListener("click",()=>{let e=new Audio("flame.mp3");e.play(),e.loop=!0,cooling=.49,document.querySelector(".overlay").classList.add("flip-2-hor-bottom-bck"),document.querySelector(".overlay-2").classList.remove("hide"),document.querySelector(".overlay-2").classList.add("show");let t=document.querySelector(".title-2");t.classList.add("title-animated"),setTimeout(()=>{t.classList.remove("title-animated")},"9500")});